# PAC-MAN UFRJ ğŸ®

Um clone completo do clÃ¡ssico jogo PAC-MAN desenvolvido em C utilizando a biblioteca Raylib, criado como projeto acadÃªmico para a UFRJ.

## ğŸ“‹ Ãndice

- [Sobre o Projeto](#sobre-o-projeto)
- [CaracterÃ­sticas](#caracterÃ­sticas)
- [Requisitos](#requisitos)
- [InstalaÃ§Ã£o](#instalaÃ§Ã£o)
- [Como Jogar](#como-jogar)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Formato dos Mapas](#formato-dos-mapas)
- [Controles](#controles)
- [Funcionalidades TÃ©cnicas](#funcionalidades-tÃ©cnicas)
- [CompilaÃ§Ã£o](#compilaÃ§Ã£o)
- [Sistema de Save/Load](#sistema-de-saveload)
- [SoluÃ§Ã£o de Problemas](#soluÃ§Ã£o-de-problemas)
- [CrÃ©ditos](#crÃ©ditos)

## ğŸ¯ Sobre o Projeto

PAC-MAN UFRJ Ã© uma implementaÃ§Ã£o fiel do clÃ¡ssico jogo arcade PAC-MAN, desenvolvido em C puro com a biblioteca grÃ¡fica Raylib. O projeto implementa todas as mecÃ¢nicas clÃ¡ssicas do jogo original com melhorias modernas:

- âœ… **Sistema de nÃ­veis** com mapas customizÃ¡veis via arquivo .txt
- âœ… **InteligÃªncia artificial avanÃ§ada** dos fantasmas com perseguiÃ§Ã£o e fuga
- âœ… **Sistema completo de colisÃµes** em tempo real
- âœ… **Power pellets** com efeitos visuais e temporizaÃ§Ã£o
- âœ… **Portais/tÃºneis** para teleporte instantÃ¢neo
- âœ… **Menu interativo** com animaÃ§Ãµes
- âœ… **Sistema de save/load** para continuar partidas
- âœ… **HUD informativo** com estatÃ­sticas em tempo real

## âœ¨ CaracterÃ­sticas

### ğŸ® Gameplay Completo

#### Personagens
- **PAC-MAN** (Jogador)
  - 3 vidas iniciais
  - Movimento suave e responsivo
  - Modo power-up temporÃ¡rio
  - Velocidade configurÃ¡vel

- **FANTASMAS** (Inimigos)
  - Quantidade definida no arquivo de mapa (marcador 'F')
  - IA inteligente com dois comportamentos:
    - **Modo Normal**: Persegue o PAC-MAN ativamente
    - **Modo VulnerÃ¡vel**: Foge do PAC-MAN (quando power pellet ativo)
  - Movimento independente e coordenado
  - Velocidade ajustÃ¡vel separadamente
  - Cada fantasma possui contador de frames individual

#### Sistema de PontuaÃ§Ã£o
- **Pellets normais (`.`)**: 10 pontos cada
- **Power pellets (`O`)**: 50 pontos + ativa modo power
- **Fantasmas vulnerÃ¡veis**: 200 pontos cada
- PontuaÃ§Ã£o total acumulativa entre nÃ­veis

#### Elementos do Mapa
- **Paredes (`#`)**: Bloqueiam movimento
- **Pellets (`.`)**: Pontos bÃ¡sicos (10 pts)
- **Power Pellets (`O`)**: Pontos + poder temporÃ¡rio (50 pts)
- **Portais (`T`)**: Teleportam para outro portal no mapa
- **Fantasmas (`F`)**: Posicionamento inicial dos inimigos
- **EspaÃ§os vazios (` `)**: Ãreas livres para movimento

### ğŸ¨ Interface GrÃ¡fica

#### Menu Principal
- Sistema de navegaÃ§Ã£o por setas/WASD
- OpÃ§Ãµes disponÃ­veis:
  1. **NOVO JOGO**: Escolha entre 2 nÃ­veis
  2. **CARREGAR JOGO**: Continue de onde parou (se houver save)
  3. **SAIR**: Encerra o jogo
- AnimaÃ§Ãµes suaves e feedback visual
- DetecÃ§Ã£o automÃ¡tica de saves disponÃ­veis

#### HUD Durante o Jogo
- **Vidas**: Quantidade de vidas restantes
- **Pontos**: PontuaÃ§Ã£o total com 6 dÃ­gitos
- **NÃ­vel**: NÃ­vel atual sendo jogado
- **Pellets**: Contador de pellets restantes no mapa
- **Power Mode**: Indicador quando power pellet estÃ¡ ativo

#### Telas Especiais
- **Pausa**: Congela o jogo mantendo visualizaÃ§Ã£o
- **Game Over**: Exibe pontuaÃ§Ã£o final com opÃ§Ã£o de reiniciar
- **VitÃ³ria**: Celebra conclusÃ£o do nÃ­vel com opÃ§Ãµes de continuar

### ğŸ—ºï¸ Sistema de NÃ­veis

#### NÃ­vel 1 - Mapa BÃ¡sico
```
Arquivo: assets/mapa1.txt
DescriÃ§Ã£o: Layout clÃ¡ssico, ideal para iniciantes
CaracterÃ­sticas:
- Estrutura simples e intuitiva
- Posicionamento balanceado de fantasmas
- Sem tÃºneis de teleporte
- Pellets bem distribuÃ­dos
```

#### NÃ­vel 2 - Mapa AvanÃ§ado
```
Arquivo: assets/mapa2.txt
DescriÃ§Ã£o: Com tÃºneis e desafios extras
CaracterÃ­sticas:
- Portais de teleporte ativos
- Layout mais complexo
- Maior desafio de navegaÃ§Ã£o
- Fantasmas em posiÃ§Ãµes estratÃ©gicas
```

## ğŸ”§ Requisitos

### Software NecessÃ¡rio
```
- Compilador C: GCC 7.0+ ou Clang 9.0+
- Biblioteca: Raylib 4.0 ou superior
- Make: Opcional, para compilaÃ§Ã£o automatizada
- Sistema Operacional: Windows, Linux ou macOS
```

### EspecificaÃ§Ãµes de Hardware
```
- CPU: Processador dual-core 2.0 GHz ou superior
- RAM: 256 MB mÃ­nimo
- GPU: Suporte a OpenGL 3.3+
- Armazenamento: 50 MB de espaÃ§o livre
```

## ğŸ“¦ InstalaÃ§Ã£o

### 1. Clone o RepositÃ³rio

```bash
git clone [URL_DO_REPOSITORIO]
cd pacman-ufrj
```

### 2. Instale a Raylib

#### Linux (Ubuntu/Debian)
```bash
sudo apt-get update
sudo apt-get install libraylib-dev
```

#### Linux (Fedora)
```bash
sudo dnf install raylib-devel
```

#### Windows
1. Baixe Raylib: https://www.raylib.com/
2. Extraia na pasta do projeto ou em C:\raylib
3. Configure as variÃ¡veis de ambiente

#### macOS
```bash
brew install raylib
```

### 3. Estrutura de Pastas

Organize os arquivos conforme abaixo:

```
pacman-ufrj/
â”œâ”€â”€ main.c
â”œâ”€â”€ jogo.c
â”œâ”€â”€ jogo.h
â”œâ”€â”€ menu.c
â”œâ”€â”€ menu.h
â”œâ”€â”€ mapa.c
â”œâ”€â”€ mapa.h
â”œâ”€â”€ entidades.c
â”œâ”€â”€ entidades.h
â”œâ”€â”€ colisoes.c
â”œâ”€â”€ colisoes.h
â”œâ”€â”€ graficos.c
â”œâ”€â”€ graficos.h
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ mapa1.txt          # OBRIGATÃ“RIO
â”‚   â”œâ”€â”€ mapa2.txt          # OBRIGATÃ“RIO
â”‚   â”œâ”€â”€ logo.png           # Opcional
â”‚   â”œâ”€â”€ menu_bg.png        # Opcional
â”‚   â””â”€â”€ fonts/
â”‚       â””â”€â”€ pacfont.ttf    # Opcional
â”œâ”€â”€ Makefile               # Opcional
â””â”€â”€ README.md
```

### 4. Configure os Mapas

Crie os arquivos de mapa em `assets/`:

**Exemplo mapa1.txt (mÃ­nimo):**
```
############################
#............##............#
#.####.#####.##.#####.####.#
#O####.#####.##.#####.####O#
#..........................#
#.####.##.########.##.####.#
######.##### ## #####.######
F    #.##          ##.#    F
######.## ######## ##.######
      .              .      
######.## ######## ##.######
F    #.##          ##.#    F
######.## ######## ##.######
#............##............#
#.####.#####.##.#####.####.#
#O..##.......  .......##..O#
###.##.##.########.##.##.###
#......##....##....##......#
#..........................#
############################
```

**IMPORTANTE**: 
- Use `F` para marcar posiÃ§Ãµes iniciais dos fantasmas
- MÃ­nimo de 1 fantasma, mÃ¡ximo de 10
- Pellets (`.`) e power pellets (`O`) serÃ£o contados automaticamente

## ğŸ® Como Jogar

### Objetivo
Coma todos os pellets do mapa enquanto evita os fantasmas. Use os power pellets para ganhar vantagem temporÃ¡ria e comer os fantasmas para pontos extras!

### Regras do Jogo

1. **Coletar Pellets**
   - Pellets normais (`.`): 10 pontos
   - Power pellets (`O`): 50 pontos + modo power
   - Objetivo: Comer TODOS os pellets para vencer

2. **Evitar/Comer Fantasmas**
   - **Fantasmas vermelhos**: Perdem uma vida ao tocar
   - **Fantasmas azuis**: Podem ser comidos (200 pontos)
   - Fantasmas ficam azuis apÃ³s pegar power pellet

3. **Usar Portais**
   - Portais (`T` - magenta) teleportam instantaneamente
   - Ãšteis para escapar de fantasmas
   - MantÃªm a direÃ§Ã£o do movimento

4. **Gerenciar Vidas**
   - ComeÃ§a com 3 vidas
   - Perde vida ao colidir com fantasma normal
   - Game over quando zerar as vidas

5. **Completar NÃ­veis**
   - VitÃ³ria ao comer todos os pellets
   - Pode avanÃ§ar para prÃ³ximo nÃ­vel (se disponÃ­vel)
   - PontuaÃ§Ã£o acumulativa

### EstratÃ©gias de Jogo

**Iniciante:**
- Planeje rotas antes de se mover
- Use power pellets estrategicamente
- Observe padrÃµes de movimento dos fantasmas

**AvanÃ§ado:**
- Atraia fantasmas para cantos
- Use portais para emboscadas
- Maximize pontos comendo todos os fantasmas vulnerÃ¡veis

## ğŸ—‚ï¸ Estrutura do Projeto

### Arquivos Principais

```
pacman-ufrj/
â”‚
â”œâ”€â”€ main.c                 # Ponto de entrada e loop principal
â”‚   â””â”€ FunÃ§Ãµes: main()
â”‚
â”œâ”€â”€ jogo.c / jogo.h       # LÃ³gica central e estados do jogo
â”‚   â”œâ”€ Estados: MENU, JOGANDO, PAUSA, GAME_OVER, VITORIA
â”‚   â”œâ”€ Gerenciamento de nÃ­veis
â”‚   â”œâ”€ Sistema de pontuaÃ§Ã£o e vidas
â”‚   â””â”€ CoordenaÃ§Ã£o de todos os mÃ³dulos
â”‚
â”œâ”€â”€ menu.c / menu.h       # Sistema de menus
â”‚   â”œâ”€ Menu principal
â”‚   â”œâ”€ SeleÃ§Ã£o de nÃ­veis
â”‚   â”œâ”€ ConfirmaÃ§Ã£o de saÃ­da
â”‚   â””â”€ Sistema de navegaÃ§Ã£o
â”‚
â”œâ”€â”€ mapa.c / mapa.h       # Carregamento e manipulaÃ§Ã£o de mapas
â”‚   â”œâ”€ Leitura de arquivos .txt
â”‚   â”œâ”€ Contagem de pellets
â”‚   â”œâ”€ DetecÃ§Ã£o de posiÃ§Ãµes de fantasmas (marcador 'F')
â”‚   â””â”€ ValidaÃ§Ã£o de estrutura
â”‚
â”œâ”€â”€ entidades.c / entidades.h  # PAC-MAN e Fantasmas
â”‚   â”œâ”€ CriaÃ§Ã£o e gerenciamento
â”‚   â”œâ”€ Sistema de movimento
â”‚   â”œâ”€ IA dos fantasmas (perseguiÃ§Ã£o/fuga)
â”‚   â”œâ”€ Estados (normal, vulnerÃ¡vel, power)
â”‚   â”œâ”€ Contadores de frames individuais
â”‚   â””â”€ Controle de velocidade independente
â”‚
â”œâ”€â”€ colisoes.c / colisoes.h    # DetecÃ§Ã£o de colisÃµes
â”‚   â”œâ”€ ColisÃµes com paredes
â”‚   â”œâ”€ ColisÃµes com pellets
â”‚   â”œâ”€ ColisÃµes entre entidades
â”‚   â”œâ”€ Processamento de portais
â”‚   â””â”€ VerificaÃ§Ã£o em tempo real
â”‚
â””â”€â”€ graficos.c / graficos.h    # RenderizaÃ§Ã£o
    â”œâ”€ Desenho do mapa
    â”œâ”€ Desenho de entidades
    â”œâ”€ HUD com informaÃ§Ãµes
    â””â”€ Telas especiais
```

### MÃ³dulos Detalhados

#### `main.c`
**Responsabilidade**: Ciclo de vida da aplicaÃ§Ã£o
```c
FunÃ§Ãµes principais:
- main(): Loop principal do jogo
  * InicializaÃ§Ã£o da janela
  * Loop de eventos (input â†’ update â†’ render)
  * FinalizaÃ§Ã£o e cleanup
```

#### `jogo.c/h`
**Responsabilidade**: Controle de fluxo e estados
```c
Estados do jogo:
- MENU: Menu principal
- JOGANDO: Gameplay ativo
- PAUSA: Jogo pausado
- GAME_OVER: Fim de jogo
- VITORIA: NÃ­vel completado

FunÃ§Ãµes principais:
- inicializarJogo(): Setup inicial
- atualizarJogo(): LÃ³gica de gameplay
- desenharJogo(): RenderizaÃ§Ã£o por estado
- processarInput(): Input especÃ­fico por estado
- carregarMapaPorNivel(): Carrega mapa especÃ­fico
```

#### `menu.c/h`
**Responsabilidade**: Interface de menu
```c
Estados do menu:
- MENU_PRINCIPAL: Tela inicial
- MENU_SELECAO_NIVEL: Escolha de nÃ­vel
- MENU_SAIR_CONFIRMAR: ConfirmaÃ§Ã£o de saÃ­da

Estrutura Menu:
- EstadoMenu estado
- OpcaoMenu opcaoSelecionada
- int nivelSelecionado (1 ou 2)
- Sistema de animaÃ§Ãµes
- Recursos grÃ¡ficos (texturas, fontes)
```

#### `mapa.c/h`
**Responsabilidade**: Gerenciamento de mapas
```c
Estrutura Mapa:
- char** matriz: Matriz de caracteres
- int linhas, colunas: DimensÃµes
- int pontosRestantes: Contador de pellets
- char nome[100]: Nome do arquivo
- int num_fantasmas: Quantidade de fantasmas
- int fantasma_linhas[10]: PosiÃ§Ãµes Y dos fantasmas
- int fantasma_colunas[10]: PosiÃ§Ãµes X dos fantasmas

FunÃ§Ãµes:
- carregarMapa(): LÃª arquivo .txt
- liberarMapa(): Libera memÃ³ria
- remover_pellet(): Remove pellet do mapa
- remover_power_pellet(): Remove power pellet
- definirCelula(): Modifica cÃ©lula especÃ­fica
```

#### `entidades.c/h`
**Responsabilidade**: Personagens do jogo
```c
Estrutura PacMan:
- Posicao pos: Coordenadas (linha, coluna)
- int vidas: Vidas restantes
- int pontos: PontuaÃ§Ã£o total
- int power_timer: Timer do power pellet
- int direcao: DireÃ§Ã£o atual (1-4)

Estrutura Fantasma:
- Posicao pos: Coordenadas
- int vulneravel: Estado vulnerÃ¡vel (0/1)
- int timer_vulneravel: Timer de vulnerabilidade
- int direcao: DireÃ§Ã£o atual (0-3)
- int frame_counter: Contador individual de frames
- Fantasma* prox: PrÃ³ximo na lista encadeada

IA dos Fantasmas:
- Modo Normal: 
  * Calcula distÃ¢ncia Manhattan atÃ© PAC-MAN
  * Escolhe direÃ§Ã£o que minimiza distÃ¢ncia
  * Evita reverter direÃ§Ã£o (anti-oscilaÃ§Ã£o)
  
- Modo VulnerÃ¡vel:
  * Calcula distÃ¢ncia Manhattan atÃ© PAC-MAN
  * Escolhe direÃ§Ã£o que maximiza distÃ¢ncia
  * Movimento mais lento (speed_factor 10 vs 15)

Controle de Velocidade:
- PAC-MAN: pacman_speed_factor (padrÃ£o: 2)
  * Menor valor = mais rÃ¡pido
  * Range: 1-5
  
- Fantasmas: fantasma_speed_factor (padrÃ£o: 15)
  * Cada fantasma tem frame_counter prÃ³prio
  * Movimento independente e assÃ­ncrono
  * VulnerÃ¡vel: speed_factor 10 (mais lento)
```

#### `colisoes.c/h`
**Responsabilidade**: FÃ­sica e colisÃµes
```c
Tipos de ColisÃ£o:
- COLISAO_NENHUMA: EspaÃ§o livre
- COLISAO_PAREDE: Bloqueia movimento
- COLISAO_PELLET: +10 pontos
- COLISAO_POWER_PELLET: +50 pontos + power
- COLISAO_PORTAL: Teleporte
- COLISAO_FANTASMA: Perde vida
- COLISAO_FANTASMA_VULNERAVEL: +200 pontos

Sistema de DetecÃ§Ã£o:
- VerificaÃ§Ã£o em tempo real a cada frame
- ColisÃµes processadas imediatamente
- Reposicionamento automÃ¡tico apÃ³s perda de vida
```

#### `graficos.c/h`
**Responsabilidade**: RenderizaÃ§Ã£o visual
```c
ConfiguraÃ§Ãµes:
- BLOCO_TAMANHO: 40x40 pixels
- LARGURA_JANELA: 1600 pixels
- ALTURA_JANELA: 840 pixels (800 + 40 HUD)
- FPS: 60 frames por segundo

Cores:
- COR_PAREDE: BLUE
- COR_PACMAN: YELLOW
- COR_FANTASMA: RED
- COR_FANTASMA_VULNERAVEL: BLUE
- COR_PELLET: WHITE
- COR_POWER_PELLET: GREEN
- COR_PORTA: MAGENTA
- COR_FUNDO: BLACK
```

## ğŸ“„ Formato dos Mapas

### SÃ­mbolos Suportados

| SÃ­mbolo | DescriÃ§Ã£o | Efeito |
|---------|-----------|--------|
| `#` | Parede | Bloqueia movimento |
| `.` | Pellet | 10 pontos |
| `O` | Power Pellet | 50 pontos + power mode |
| `T` | Portal | Teleporte |
| `F` | Fantasma | PosiÃ§Ã£o inicial do inimigo |
| ` ` | EspaÃ§o vazio | Livre para movimento |

### Regras de CriaÃ§Ã£o

1. **DimensÃµes**
   - MÃ­nimo: 10x10 caracteres
   - MÃ¡ximo: 100x100 caracteres
   - Todas as linhas devem ter mesma largura (preenchidas com espaÃ§os)

2. **Fantasmas**
   - Use `F` para marcar posiÃ§Ã£o inicial
   - MÃ­nimo: 1 fantasma
   - MÃ¡ximo: 10 fantasmas
   - O sistema remove automaticamente o `F` e cria o fantasma
   - **IMPORTANTE**: Cada `F` deve estar em cÃ©lula livre (nÃ£o parede)

3. **Bordas**
   - Recomendado cercar o mapa com paredes `#`
   - Evita que entidades saiam dos limites
   - Portais verticais requerem limites definidos

4. **Pellets**
   - Use `.` para pellets normais (10 pts)
   - Use `O` para power pellets (50 pts + power)
   - Sistema conta automaticamente para vitÃ³ria

5. **Portais**
   - Devem existir em pares (`T` conecta com outro `T`)
   - Funcionam em ambas direÃ§Ãµes
   - MantÃªm direÃ§Ã£o de movimento apÃ³s teleporte

### Exemplo Completo de Mapa

```
############################
#............##............#    <- Pellets normais
#.####.#####.##.#####.####.#
#O####.#####.##.#####.####O#    <- Power pellets nos cantos
#..........................#
#.####.##.########.##.####.#
######.##### ## #####.######
F    #.##    T     ##.#    F    <- Fantasmas e portal
######.## ######## ##.######
      .              .      
######.## ######## ##.######
F    #.##    T     ##.#    F    <- Segundo par de fantasmas/portal
######.## ######## ##.######
#............##............#
#.####.#####.##.#####.####.#
#O..##.......  .......##..O#    <- Power pellets
###.##.##.########.##.##.###
#......##....##....##......#
#..........................#
############################

CaracterÃ­sticas deste mapa:
- 4 fantasmas (marcados com F)
- 2 portais (marcados com T, formam par)
- 4 power pellets (marcados com O)
- ~200 pellets normais (marcados com .)
- Paredes formam labirinto clÃ¡ssico
```

### ValidaÃ§Ã£o AutomÃ¡tica

O sistema valida automaticamente:
- âœ… Arquivo existe e pode ser lido
- âœ… DimensÃµes dentro dos limites
- âœ… PosiÃ§Ãµes de fantasmas sÃ£o vÃ¡lidas (nÃ£o em paredes)
- âœ… Contagem de pellets para vitÃ³ria
- âœ… EspaÃ§os livres para PAC-MAN spawn

## ğŸ® Controles

### Menu Principal
| Tecla | AÃ§Ã£o |
|-------|------|
| `â†‘` / `W` | Navegar para cima |
| `â†“` / `S` | Navegar para baixo |
| `ENTER` / `ESPAÃ‡O` | Confirmar seleÃ§Ã£o |
| `R` | Voltar ao menu principal |

### SeleÃ§Ã£o de NÃ­vel
| Tecla | AÃ§Ã£o |
|-------|------|
| `â†` / `A` | NÃ­vel anterior |
| `â†’` / `D` | PrÃ³ximo nÃ­vel |
| `ENTER` / `ESPAÃ‡O` | Iniciar jogo |
| `R` | Voltar ao menu |

### Durante o Jogo
| Tecla | AÃ§Ã£o |
|-------|------|
| `â†‘` / `W` | Mover para cima |
| `â†“` / `S` | Mover para baixo |
| `â†` / `A` | Mover para esquerda |
| `â†’` / `D` | Mover para direita |
| `P` | Pausar/Despausar |
| `R` | Voltar ao menu |
| `S` | Salvar jogo atual |
| `T` | Reiniciar nÃ­vel (debug) |

### Telas de Pausa/Game Over/VitÃ³ria
| Tecla | AÃ§Ã£o |
|-------|------|
| `ENTER` | Reiniciar/Continuar |
| `N` | PrÃ³ximo nÃ­vel (sÃ³ na vitÃ³ria, nÃ­vel 1) |
| `R` | Voltar ao menu |
| `P` | Continuar (sÃ³ na pausa) |

## ğŸ”¨ CompilaÃ§Ã£o

### OpÃ§Ã£o 1: GCC Direto (Linux/macOS)

```bash
gcc main.c jogo.c menu.c mapa.c entidades.c colisoes.c graficos.c \
    -o pacman \
    -lraylib -lm -lpthread -ldl -lrt -lX11 \
    -O2 -Wall -Wextra

./pacman
```

### OpÃ§Ã£o 2: GCC com flags detalhadas

```bash
gcc -std=c99 -Wall -Wextra -Wpedantic \
    main.c jogo.c menu.c mapa.c entidades.c colisoes.c graficos.c \
    -o pacman \
    -I/usr/local/include \
    -L/usr/local/lib \
    -lraylib -lm -lpthread -ldl -lrt -lX11 \
    -O2

./pacman
```

### OpÃ§Ã£o 3: Windows (MinGW)

```bash
gcc main.c jogo.c menu.c mapa.c entidades.c colisoes.c graficos.c \
    -o pacman.exe \
    -I"C:\raylib\include" \
    -L"C:\raylib\lib" \
    -lraylib -lopengl32 -lgdi32 -lwinmm \
    -O2 -Wall

pacman.exe
```

### OpÃ§Ã£o 4: Makefile (Recomendado)

Crie um arquivo `Makefile`:

```makefile
CC = gcc
CFLAGS = -std=c99 -Wall -Wextra -O2
LIBS = -lraylib -lm -lpthread -ldl -lrt -lX11

# Para macOS, use:
# LIBS = -lraylib -framework OpenGL -framework Cocoa -framework IOKit

# Para Windows, use:
# LIBS = -lraylib -lopengl32 -lgdi32 -lwinmm

SOURCES = main.c jogo.c menu.c mapa.c entidades.c colisoes.c graficos.c
OBJECTS = $(SOURCES:.c=.o)
TARGET = pacman

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(CC) $(OBJECTS) -o $(TARGET) $(LIBS)

%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	rm -f $(OBJECTS) $(TARGET)

run: $(TARGET)
	./$(TARGET)

.PHONY: all clean run
```

Uso:
```bash
make          # Compila
make run      # Compila e executa
make clean    # Remove arquivos compilados
```

### Verificar CompilaÃ§Ã£o

Teste se compilou corretamente:
```bash
./pacman --version   # Ou apenas execute
./pacman             # Deve abrir a janela do jogo
```

## ğŸ’¾ Sistema de Save/Load

### Como Funciona

O jogo salva automaticamente em formato binÃ¡rio no arquivo `savegame.dat`.

**Dados Salvos:**
- NÃ­vel atual (1 ou 2)
- PontuaÃ§Ã£o total
- Vidas restantes

### Como Salvar

**Durante o Jogo:**
1. Pressione `S` durante gameplay
2. Mensagem confirma save bem-sucedido
3. Arquivo `savegame.dat` Ã© criado/atualizado

**Console mostrarÃ¡:**
```
Salvando jogo... (tecla S)
Jogo salvo com sucesso! NÃ­vel: 1, Pontos: 1250, Vidas: 2
```

### Como Carregar

**No Menu Principal:**
1. Selecione "CARREGAR JOGO"
2. Se houver save, o jogo continua automaticamente
3. PAC-MAN e fantasmas sÃ£o reposicionados
4. PontuaÃ§Ã£o e vidas sÃ£o restauradas

**Status no Menu:**
- âœ… Verde: "Jogo salvo disponÃ­vel" (save existe)
- âŒ Cinza: "Nenhum save" (opÃ§Ã£o desabilitada)

### LocalizaÃ§Ã£o do Save

```
Linux/macOS: ./savegame.dat (pasta do executÃ¡vel)
Windows: savegame.dat (pasta do executÃ¡vel)
```

### Resetar Progresso

Para comeÃ§ar do zero:
```bash
rm savegame.dat        # Linux/macOS
del savegame.dat       # Windows
```

## ğŸ› SoluÃ§Ã£o de Problemas

### Problema: Jogo nÃ£o inicia

**Sintomas:**
- Janela nÃ£o abre
- Erro ao executar

**SoluÃ§Ãµes:**
```bash
# Verifique se Raylib estÃ¡ instalada
pkg-config --modversion raylib   # Linux
brew info raylib                 # macOS

# Verifique permissÃµes
chmod +x pacman                  # Linux/macOS

# Recompile com debug
gcc -g main.c jogo.c menu.c mapa.c entidades.c colisoes.c graficos.c \
    -o pacman -lraylib -lm -lpthread -ldl -lrt -lX11
```

### Problema: Mapas nÃ£o carregam

**Sintomas:**
- "ERRO CRÃTICO: NÃ£o foi possÃ­vel carregar mapa"
- Tela preta ou volta ao menu

**SoluÃ§Ãµes:**
1. **Verifique arquivos:**
   ```bash
   ls -la assets/
   # Deve mostrar mapa1.txt e mapa2.txt
   ```

2. **Verifique formato:**
   - Todas linhas tÃªm mesma largura?
   - Caracteres sÃ£o vÃ¡lidos (`#`, `.`, `O`, `T`, `F`, espaÃ§o)?
   - Arquivo tem quebras de linha Unix (LF)?

3. **Teste leitura:**
   ```bash
   cat assets/mapa1.txt   # Exibe conteÃºdo
   wc -l assets/mapa1.txt # Conta linhas
   ```

### Problema: Fantasmas nÃ£o aparecem ou nÃ£o se movem

**Sintomas:**
- Nenhum fantasma visÃ­vel
- Fantasmas parados
- Jogo muito fÃ¡cil

**DiagnÃ³stico:**
```bash
# Execute e observe console:
./pacman

# Procure por:
"Fantasma 1 criado em (X,Y)"
"Fantasmas: N criados com sucesso"
```

**SoluÃ§Ãµes:**
1. **Verifique arquivo de mapa:**
   - ContÃ©m pelo menos um `F`?
   - `F` nÃ£o estÃ¡ em cima de parede `#`?
   - Exemplo: `F` deve estar em espaÃ§o livre ou `.`

2. **Valide posiÃ§Ãµes:**
   - Abra `mapa1.txt` e procure por `F`
   - Certifique que cada `F` tem espaÃ§o livre ao redor

3. **Debug detalhado:**
   - Adicione em `entidades.c`:
   ```c
   printf("DEBUG: Fantasma movendo de (%d,%d) para direÃ§Ã£o %d\n",
          fantasma->pos.linha, fantasma->pos.coluna, fantasma->direcao);
   ```

### Problema: ColisÃµes nÃ£o funcionam

**Sintomas:**
- PAC-MAN passa por paredes
- Fantasmas nÃ£o causam dano
- Pellets nÃ£o somam pontos

**SoluÃ§Ãµes:**
1. **Verifique ordem de atualizaÃ§Ã£o:**
   ```c
   // Em jogo.c, atualizarJogo():
   atualizarEntidades(mapaAtual);      // Primeiro
   verificarTodasColisoes(mapaAtual);  // Depois
   ```

2. **Teste colisÃ£o manual:**
   - Tente mover contra parede
   - Deve parar completamente
   - Console deve mostrar colisÃµes

3. **Recompile sem otimizaÃ§Ã£o:**
   ```bash
   gcc -O0 -g main.c ... -o pacman
   ```

### Problema: Desempenho ruim / Lag

**Sintomas:**
- FPS baixo
- Movimento travado
- Delay no input

**SoluÃ§Ãµes:**
1. **Ajuste velocidade:**
   ```c
   // Em entidades.c:
   pacman_speed_factor = 3;     // Aumentar